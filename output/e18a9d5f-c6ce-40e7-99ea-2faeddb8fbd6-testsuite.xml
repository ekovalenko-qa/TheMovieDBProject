<?xml version='1.0'?>
<ns2:test-suite xmlns:ns2='urn:model.allure.qatools.yandex.ru' start='1613904351989' stop='1613904364269'>
    <name>UI тесты для сайта https://www.themoviedb.org, роль - пользователь:</name>
    <title>UI тесты для сайта https://www.themoviedb.org, роль - пользователь:</title>
    <test-cases>
        <test-case start='1613904352379' status='passed' stop='1613904356052'>
            <name>1. Пользователь может добавить фильм в избранное</name>
            <title>1. Пользователь может добавить фильм в избранное</title>
            <labels/>
            <parameters/>
            <steps>
                <step start='1613904352390' status='passed' stop='1613904355048'>
                    <name>mainPage: search "Девушка, которая боялась дождя"</name>
                    <title>mainPage: search "Девушка, которая боялась дождя"</title>
                    <attachments/>
                    <steps>
                        <step start='1613904352391' status='passed' stop='1613904353777'>
                            <name>I am on page "https://www.themoviedb.org"</name>
                            <title>I am on page "https://www.themoviedb.org"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904353778' status='passed' stop='1613904354274'>
                            <name>I fill field "#inner_search_v4", "Девушка, которая боялась дождя"</name>
                            <title>I fill field "#inner_search_v4", "Девушка, которая боялась дождя"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904354274' status='passed' stop='1613904354884'>
                            <name>I click {"css":"#inner_search_form > input[type=submit]"}</name>
                            <title>I click {"css":"#inner_search_form > input[type=submit]"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904354885' status='passed' stop='1613904355048'>
                            <name>I wait for element "#main > section > div > div > div.grey_column > div > h3"</name>
                            <title>I wait for element "#main > section > div > div > div.grey_column > div > h3"</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
                <step start='1613904355048' status='passed' stop='1613904356052'>
                    <name>moviePage: addToFavorites </name>
                    <title>moviePage: addToFavorites </title>
                    <attachments/>
                    <steps>
                        <step start='1613904355048' status='passed' stop='1613904355707'>
                            <name>I click "#card_movie_5cca0faa0e0a2604b5ed2366 > div > div.details > div.wrapper > div > div > a > h2"</name>
                            <title>I click "#card_movie_5cca0faa0e0a2604b5ed2366 > div > div.details > div.wrapper > div > div > a > h2"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904355707' status='passed' stop='1613904356052'>
                            <name>I click {"css":"#favourite > span"}</name>
                            <title>I click {"css":"#favourite > span"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
            </steps>
            <attachments/>
        </test-case>
        <test-case start='1613904356074' status='failed' stop='1613904361779'>
            <name>2. Пользователь может оставить рецензию на фильм</name>
            <title>2. Пользователь может оставить рецензию на фильм</title>
            <labels/>
            <parameters/>
            <steps>
                <step start='1613904356075' status='failed' stop='1613904361779'>
                    <name>moviePage: addReview </name>
                    <title>moviePage: addReview </title>
                    <attachments/>
                    <steps>
                        <step start='1613904356075' status='passed' stop='1613904356960'>
                            <name>I am on page "https://www.themoviedb.org/tv/1622-supernatural"</name>
                            <title>I am on page "https://www.themoviedb.org/tv/1622-supernatural"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904356960' status='passed' stop='1613904357100'>
                            <name>I click {"css":"#reviews"}</name>
                            <title>I click {"css":"#reviews"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904357100' status='failed' stop='1613904361779'>
                            <name>I click {"css":"#media_v4 > div > div > div:nth-child(1) > div > section.panel.media_panel.social_panel.tv_panel > section > div.content > div > div > div > p > a"}</name>
                            <title>I click {"css":"#media_v4 > div > div > div:nth-child(1) > div > section.panel.media_panel.social_panel.tv_panel > section > div.content > div > div > div > p > a"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
            </steps>
            <attachments>
                <attachment title='Last Seen Screenshot' source='de03b6f0-2ea5-4b93-89d1-d9aa7af0f6e8-attachment.png' type='image/png' size='144201'/>
            </attachments>
            <failure>
                <message>Clickable element "{"css":"#media_v4 > div > div > div:nth-child(1) > div > section.panel.media_panel.social_panel.tv_panel > section > div.content > div > div > div > p > a"}" was not found by text|CSS|XPath</message>
                <stack-trace>Error: Clickable element "{"css":"#media_v4 > div > div > div:nth-child(1) > div > section.panel.media_panel.social_panel.tv_panel > section > div.content > div > div > div > p > a"}" was not found by text|CSS|XPath
                    at new ElementNotFound (C:\Users\ekovalenko\OTUS\Project_gitlab\TheMovieDB\node_modules\codeceptjs\lib\helper\errors\ElementNotFound.js:14:11)
                    at assertElementExists (C:\Users\ekovalenko\OTUS\Project_gitlab\TheMovieDB\node_modules\codeceptjs\lib\helper\Playwright.js:2423:11)
                    at Playwright.proceedClick (C:\Users\ekovalenko\OTUS\Project_gitlab\TheMovieDB\node_modules\codeceptjs\lib\helper\Playwright.js:2182:5)</stack-trace>
            </failure>
        </test-case>
        <test-case start='1613904362112' status='failed' stop='1613904363750'>
            <name>3. Пользователь может посмотреть свой список избранного</name>
            <title>3. Пользователь может посмотреть свой список избранного</title>
            <labels/>
            <parameters/>
            <steps>
                <step start='1613904362115' status='failed' stop='1613904363750'>
                    <name>mainPage: goToAccount </name>
                    <title>mainPage: goToAccount </title>
                    <attachments/>
                    <steps>
                        <step start='1613904362115' status='passed' stop='1613904362747'>
                            <name>I am on page "https://www.themoviedb.org"</name>
                            <title>I am on page "https://www.themoviedb.org"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1613904362747' status='failed' stop='1613904363750'>
                            <name>I wait for text "Привет, Fox.red!"</name>
                            <title>I wait for text "Привет, Fox.red!"</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
            </steps>
            <attachments>
                <attachment title='Last Seen Screenshot' source='7c4fa8c9-ef64-4828-a6b6-ddd4b88bc2a2-attachment.png' type='image/png' size='989989'/>
            </attachments>
            <failure>
                <message>Text "Привет, Fox.red!" was not found on page after 1 sec
                page.waitForFunction: Timeout 1000ms exceeded.
                Note: use DEBUG=pw:api environment variable and rerun to capture Playwright logs.</message>
                <stack-trace>Error: Text "Привет, Fox.red!" was not found on page after 1 sec
                page.waitForFunction: Timeout 1000ms exceeded.
                Note: use DEBUG=pw:api environment variable and rerun to capture Playwright logs.
                    at C:\Users\ekovalenko\OTUS\Project_gitlab\TheMovieDB\node_modules\codeceptjs\lib\helper\Playwright.js:1984:13</stack-trace>
            </failure>
        </test-case>
    </test-cases>
</ns2:test-suite>